<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Máy BAR - Fixed LEDs</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #111;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .main-box {
            width: 650px;
            height: 750px;
            background-color: white;
            border: 4px solid #ccc;
            border-radius: 20px;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 60px;
        }

        .inner-box-container {
            position: relative;
            width: 600px;
            height: 600px;
        }

        .inner-box {
            width: 100%;
            height: 100%;
            background-color: #111;
            border: 3px dashed #999;
            border-radius: 10px;
            position: relative;
        }

        .led-frame .led-box {
            width: 86px;
            height: 86px;
            position: absolute;
            background-color: black;
            border: 2px solid #555;
            border-radius: 8px;
            overflow: hidden;
        }

        .led-box img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .led-indicator {
            width: 14px;
            height: 14px;
            background-color: red;
            border-radius: 4px;
            position: absolute;
            z-index: 10;
        }
    </style>
</head>
<body>
    <div class="main-box">
        <div class="inner-box-container">
            <div class="inner-box">
                <div class="led-frame"></div>
            </div>
        </div>
    </div>
    <script>
        const ledFrame = document.querySelector('.led-frame');
        const innerBox = document.querySelector('.inner-box');
        const boxSize = 86;
        const ledSize = 14;
        const ledOffset = 8; // Khoảng cách đèn LED so với viền của hộp đen

        const positions = [];

        // Vị trí các ô LED
        for (let i = 0; i < 7; i++) {
            positions.push({ top: 0, left: i * boxSize, dir: 'top' });
        }
        for (let i = 1; i < 7; i++) {
            positions.push({ top: i * boxSize, left: 600 - boxSize, dir: 'right' });
        }
        for (let i = 5; i >= 0; i--) {
            positions.push({ top: 600 - boxSize, left: i * boxSize, dir: 'bottom' });
        }
        for (let i = 5; i >= 1; i--) {
            positions.push({ top: i * boxSize, left: 0, dir: 'left' });
        }

        positions.forEach((pos, index) => {
            // Tạo ô LED
            const ledBox = document.createElement('div');
            ledBox.className = 'led-box';
            ledBox.style.top = pos.top + 'px';
            ledBox.style.left = pos.left + 'px';

            const img = document.createElement('img');
            img.src = `https://via.placeholder.com/86?text=${index + 1}`;
            ledBox.appendChild(img);
            ledFrame.appendChild(ledBox);

            // Tạo đèn LED
            const led = document.createElement('div');
            led.className = 'led-indicator';

            let ledTop = pos.top;
            let ledLeft = pos.left;

            // Điều chỉnh logic để đèn LED nằm trong ô vuông và hướng vào trung tâm
            if (pos.dir === 'top') {
                ledTop = pos.top + boxSize - ledOffset - ledSize;
                ledLeft = pos.left + (boxSize / 2) - (ledSize / 2);
            } else if (pos.dir === 'bottom') {
                ledTop = pos.top + ledOffset;
                ledLeft = pos.left + (boxSize / 2) - (ledSize / 2);
            } else if (pos.dir === 'left') {
                ledLeft = pos.left + boxSize - ledOffset - ledSize;
                ledTop = pos.top + (boxSize / 2) - (ledSize / 2);
            } else if (pos.dir === 'right') {
                ledLeft = pos.left + ledOffset;
                ledTop = pos.top + (boxSize / 2) - (ledSize / 2);
            }
            
            led.style.top = ledTop + 'px';
            led.style.left = ledLeft + 'px';

            innerBox.appendChild(led);
        });
    </script>
</body>
</html>
